🌍

# 优化类算法

[![Join the chat at https://gitter.im/jlevy/the-art-of-command-line](https://badges.gitter.im/Join%20Chat.svg)](https://gitter.im/jlevy/the-art-of-command-line?utm_source=badge&utm_medium=badge&utm_campaign=pr-badge&utm_content=badge)

- [基本概念](#基本概念)
- [现代优化方法](#现代优化方法)
> - [禁忌搜索算法](#禁忌搜索算法)
> - [模拟退火算法](#模拟退火算法)
> - [人工神经网络算法](#人工神经网络算法)
> - [蚁群算法](#蚁群算法)
> - [粒子群算法](#粒子群算法)
> - [遗传算法](#遗传算法(Genetic Algorithm,GA))

- [免责声明](#免责声明)
- [参考资料](#参考资料)

## 基本概念
+ 优化：在规定的物资条件下，为了达到某种目的，应该如何做以达到某些最优性度量即系统的某些性能指标达到最大或最小，核心在于优化目标、约束条件、参数
+ 智能优化：与自然现象结合的优化，比如鸟群、鱼群等
+ ![优化问题简介](https://github.com/DodgeV/learning-programming/blob/master/png/%E4%BC%98%E5%8C%96%E9%97%AE%E9%A2%98%E7%AE%80%E4%BB%8B.png)
+ 除此而外还有经典优化方法：
> + 线性规划：研究线性约束条件下线性目标函数的极值问题的数学理论和方法。
> + 非线性规划：具有非线性约束条件或目标函数的数学规划。
> + 动态规划：解决多阶段决策过程最优化问题的优化方法。本质上还是一种非线性规划方法.
> + 多目标规划：研究目标函数多于一个时的最优化问题。
> + 整数规划：要求问题的最优解中的全部或一部分变量为整数的数学规划。

+ 经典优化方法的优点为简单易行，缺点为应用对象受限，计算量大，收敛速度慢
## 现代优化方法
+ 现代优化算法又称**智能优化**算法或现代**启发式**算法，是一种具有全局优化性能、通用性强、且适合于并行处理的算法。这种算法一般具有严密的理论依据,而不是单纯凭借专家经验，理论上可以在一定的时间内找到最优解或近似最优解。
### 禁忌搜索算法
+ 是一种全局性邻域搜索算法，模拟人类具有记忆功能的寻优特征。它通过局部邻域搜索机制和相应的禁忌准则来避免迂回搜索，并通过破禁水平来释放一些被禁忌的优良状态，进而保证多样化的有效探索，以最终实现全局优化。 
+ 禁忌搜索就是对于找到的一部分局部最优解，有意识地避开它从而获得更多的搜索区间。兔子们找到了泰山，它们之中的一只就会留守在这里，这就是禁忌搜索中“禁忌表（tabu list）”的含义,其他的再去别的地方寻找。就这样，一大圈后，把找到的几个山峰一比较，珠穆朗玛峰脱颖而出.
### 模拟退火算法
+ 模拟物理中固体退火原理（加温，等温，冷却），从某一较高初温出发，伴随温度参数的不断下降,结合概率突跳特性在解空间中随机寻找目标函数的全局最优解
+ 模拟退火来自冶金学的专有名词退火。退火是将材料加热后再经特定速率冷却，目的是增大晶粒的体积，并且减少晶格中的缺陷。将热力学的理论套用到统计学，将搜寻空间内每一点想像成空气内的分子；分子的能量，就是它本身的动能；而搜寻空间内的每一点，也像空气分子一样带有“能量”，以表示该点对命题的合适程度。演算法先以搜寻空间内一个任意点作起始：每一步先选择一个“邻居”，然后再计算从现有位置到达“邻居”的概率。
### 人工神经网络算法
+ 由大量处理单元互联组成的非线性、自适应信息处理系统。是由人工建立的以有向图为拓扑结构的动态系统，它通过对连续或断续的输入作状态响应而进行信息处理
+ 人工神经网络具有自学习和自适应的能力，可以通过预先提供的一批相互对应的输入－输出数据，分析掌握两者之间潜在的规律，最终根据这些规律，用新的输入数据来推算输出结果.
### 蚁群算法
+ 模拟蚂蚁在寻找食物过程中发现路径的行为，是一种用来在图中寻找优化路径的机率型算法
+ 当一只找到食物以后，它会向环境释放一种信息素，吸引其他的蚂蚁过来，这样越来越多的蚂蚁会找到食物！有些蚂蚁并没有象其它蚂蚁一样总重复同样的路，他们会另辟蹊径，如果新开辟的道路比原来的其他道路更短，那么，渐渐，更多的蚂蚁被吸引到这条较短的路上来。最后，经过一段时间运行，可能会出现一条最短的路径被大多数蚂蚁重复着。
### 粒子群算法
+ 是通过模拟鸟群觅食行为而发展起来的一种基于群体协作的随机搜索算法。系统初始化为一组随机解，通过迭代搜寻最优值。与GA类似。
+ 粒子群算法模拟鸟群的捕食行为。一群鸟在随机搜索食物，在这个区域里只有一块食物。所有的鸟都不知道食物在那里。但是他们知道当前的位置离食物还有多远。最简单有效的策略就是搜寻目前离食物最近的鸟的周围区域。PSO中，每个优化问题的解都是搜索空间中的一只鸟。我们称之为“粒子”。所有的粒子都有一个由被优化的函数决定的适应值，每个粒子还有一个速度决定他们飞翔的方向和距离。然后粒子们就追随当前的最优粒子在解空间中搜索。
### 遗传算法(Genetic Algorithm,GA)
+ 遗传算法是20世纪60年代由美国Michigan大学的J.H.Holland教授首先提出的，主要模拟自然界优胜劣汰的进化现象，把搜索空间映射为遗传空间，把可能的解编码成一个向量——染色体，向量的每个元素成为基因。通过不断计算各染色体的适应值，获得最优解。
+ 遗传学中常用的词汇：
> + 细胞(Cell)：构成生物的基本的结构和单位。
> + 染色体(Chromosome):细胞中含有的一种微小丝状化合物。
> + 基因(Gene):遗传的基本单位。
> + 复制(reproduction):细胞在分裂时，遗传物质DNA通过复制而转移到新产生的细胞中，并集成旧细胞的基因。  
> + 交叉(Crossover):两个同源染色体之间通过交叉而重组。
> + 变异(Mutation)：在细胞复制时，可能产生复制差错，从而使DNA发生变异，产生出新的染色体。
> + 进化(Evolution):生物在其延续生存的过程中，逐渐适应于其生存环境，使得其品质不断得到改良，这种生命现象称之为进化
> + 群体(Population):生物进化是以集团的形式进行的，这样的集团称为群体
> + 适应度(Fitness):每个个体对其生存环境都有不同的适应能力，这种适应能力称为适应度

+ 求解问题的流程
+ ![遗传算法求解问题的流程](https://github.com/DodgeV/learning-programming/blob/master/png/%E9%81%97%E4%BC%A0%E7%AE%97%E6%B3%95%E6%B1%82%E8%A7%A3%E9%97%AE%E9%A2%98%E7%9A%84%E6%B5%81%E7%A8%8B.jpg)
> + 编码：一般采用二进制字符编码
> + ![编码过程实现](https://github.com/DodgeV/learning-programming/blob/master/png/%E7%BC%96%E7%A0%81%E8%BF%87%E7%A8%8B%E5%AE%9E%E7%8E%B0.jpg)
> + 产生初始群体M：M越大，搜索范围越宽，但每代的遗传操作时间越长；M越小，搜索范围越小，但每代的遗传操作时间越短。通常：M=20~100
> + 个体适应度评价：在GA中，以个体适应度的大小来确定该个体被遗传到下一代的概率。个体适应度越高，被选中的概率越大（要求个体适应度）。对于求目标函数最小值的优化问题：F(x) = f(x)；对于求目标函数最大值的优化问题：F(x) = -f(x).
> + ![个体被选中的概率](https://github.com/DodgeV/learning-programming/blob/master/png/%E4%B8%AA%E4%BD%93%E8%A2%AB%E9%80%89%E4%B8%AD%E7%9A%84%E6%A6%82%E7%8E%87.jpg)
> + 遗传算子：
> + 选择(Selection)：根据个体的相对适应度Pi反复地从群体中选择M个个体组成下一代群体。选择算法：轮盘赌选择、随机遍历抽样
>> + 截断选择：根据进行的选择，凡达到或超过某一标准(临界值)的个体均被保留，否则就淘汰的选择方法。
>> + 锦标赛选择：在50个人中，随机选择两组人，每组10个人，对于每组的10个人按适应度进行排列，选择两组中适应度最好的两个个体作为母代进行两两交叉；然后再从剩下来的48个人中，随机选择两组人，每组10个人，对于每组的10个人按适应度进行排列，选择两组中适应度最好的两个个体作为母代进行两两交叉；依此类推，知道你选出的母代个数满足你的要求，这里母代个数肯定是少于50的。
> + 交叉(Crossover)：在GA中交叉是产生新个体的主要手段，类似于生物学的杂交，使不同个体的基因互相交换，从而产生新个体。
>> + 交叉原理：a）对群体中的个体进行两两配对，当群体总数为M，则共有M/2对相互配对的个体组；b) 设置交叉点，随机设置某一基因座后的位置为交叉点，若染色体长度为L，则共有L-1个可能的交叉点位置。C) 设置交叉概率Pc。被交叉的个体数目：`Mc=Pc*M`
>>> + 单点交叉
>>> + 多点交叉
>>> + 均匀交叉：是指2个配对个体的每一个基因座上的基因都以相同的交叉概率进行交换,从而形成2个新的个体
>>> + 洗牌交叉：是将一个父基因取一半，再上来自另外一个父基因的一半，构成一个新的子基因。
> + 变异(Mutation)：以变异概率Pm改变染色体的某一个基因,当以二进制编码时，变异的基因由0变成1，或者由1变成0。
>> + 变异过程：a）依据变异概率Pm指定变异点。b）对指定的变异点进行取反运算。Pm=0.01~0.001
>> 停止准则：a）种群中个体的最大适应值超过预设定值；b）种群中个体的平均适应值超过预设定值；c）种群中个体的进化代数超过预设定值

+ GA工具箱使用简介，两种方案：
> + 1. 利用遗传算法函数ga求解
> + 2. 利用遗传算法工具箱gatool求解

+ 遗传算法函数：`[x,fval]=ga(fitnessfun,nvars,A,b,Aeq,beq,lb,ub,nonlcon,options)`
+ 输出函数：`x`-----最优解，`fval`-----最优适应度
+ 输入函数：`fitnessfun`-----适应度函数，`nvars`-----变量个数
+ 输入参数：`A,b`----不等式约束，`Aeq,beq`----等式约束，`Lb,ub`----变量的上下限，`nonlcon`----非线性函数约束，`options`----传递给`ga`的参数，不写matlab自动取默认值,参考gaoptimset
+ 遗传算法工具箱gatool：在matlab控制窗口输入`>> gatool` 打开ga工具箱


## 免责声明
除去特别小的工作，你编写的代码应当方便他人阅读。能力往往伴随着责任，你 *有能力* 在 Matlab 中玩一些奇技淫巧并不意味着你应该去做！;)
* * *
## 参考资料
+ [智能优化方法及MATLAB-GA工具箱简介--老教练](https://www.bilibili.com/video/BV1FD4y1m78C?p=10)
